<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Memo — memo • memofunc</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Memo — memo" />
<meta property="og:description" content="Creates a memoized function, based on the provided named or anonymous function.  Calls to the memoized function will 
be retrieved from a cache, unless it is the first time it is called.
Passing memo.force = TRUE to the memo function call will by-pass any previously cached values and execute the underlying
function, storing the newly retrieved values for subsequent calls.  memo.force = FALSE by default.
Passing memo.dryrun = TRUE to the memo function call will prevent the underlying function from executing and return TRUE
if call isn't caches and FALSE if it is.  These values are not cached as responses for the function.
Note that results are cached based on the argument values passed to the function.  The order is not important since all
names are resolved.  So fun(a=1, b=2) will return the same cached value as fun(b=2, a=1), for example.
Functions as arguments are supported, but only the body is compared.  So a named function parameter and an anonymouse function
parameter with the same body, will be evaluated as identical and return the same cached value.
... is supported, but note that unless named then the order of the values is significant and will produce different cache values
unless identical.
By default NULL values are not cached.  Setting allow.null=TRUE when creating the memo will, however, ensure that NULL values
are cached." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">memofunc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">API Reference</a>
</li>
<li>
  <a href="../news/index.html">Change Log</a>
</li>
<li>
  <a href="../dev/index.html">Dev Version</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rwetherall/memofunc">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Memo</h1>
    <small class="dont-index">Source: <a href='https://github.com/rwetherall/memofunc/blob/master/R/memo.R'><code>R/memo.R</code></a></small>
    <div class="hidden name"><code>memo.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a memoized function, based on the provided named or anonymous function.  Calls to the memoized function will 
be retrieved from a cache, unless it is the first time it is called.</p>
<p>Passing <code>memo.force = TRUE</code> to the memo function call will by-pass any previously cached values and execute the underlying
function, storing the newly retrieved values for subsequent calls.  <code>memo.force = FALSE</code> by default.</p>
<p>Passing <code>memo.dryrun = TRUE</code> to the memo function call will prevent the underlying function from executing and return TRUE
if call isn't caches and <code>FALSE</code> if it is.  These values are not cached as responses for the function.</p>
<p>Note that results are cached based on the argument values passed to the function.  The order is not important since all
names are resolved.  So <code>fun(a=1, b=2)</code> will return the same cached value as <code>fun(b=2, a=1)</code>, for example.</p>
<p>Functions as arguments are supported, but only the body is compared.  So a named function parameter and an anonymouse function
parameter with the same body, will be evaluated as identical and return the same cached value.</p>
<p><code>...</code> is supported, but note that unless named then the order of the values is significant and will produce different cache values
unless identical.</p>
<p>By default <code>NULL</code> values are not cached.  Setting <code>allow.null=TRUE</code> when creating the memo will, however, ensure that NULL values
are cached.</p>
    </div>

    <pre class="usage"><span class='fu'>memo</span><span class='op'>(</span><span class='va'>f</span>, allow.null <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>f</th>
      <td><p>function to memoise</p></td>
    </tr>
    <tr>
      <th>allow.null</th>
      <td><p>if <code>TRUE</code> then the memoed function will cache <code>NULL</code> results, otherwise it won't.  <code>FALSE</code> by default.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>the memoed function</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://magrittr.tidyverse.org'>magrittr</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: package 'magrittr' was built under R version 4.0.3</span></div><div class='input'>
<span class='co'># a simple example function</span>
<span class='va'>simple.function</span> <span class='op'>&lt;-</span> <span class='kw'>function</span> <span class='op'>(</span><span class='va'>value</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='st'>"Executing!"</span><span class='op'>)</span>
  <span class='va'>value</span>
<span class='op'>}</span>

<span class='co'># call memo function to memoise a function</span>
<span class='va'>simple.function.memo</span> <span class='op'>&lt;-</span> <span class='fu'>memo</span><span class='op'>(</span><span class='va'>simple.function</span><span class='op'>)</span>

<span class='co'># or like this</span>
<span class='va'>simple.function</span> <span class='op'>%&lt;&gt;%</span> <span class='fu'>memo</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># or use an anon function</span>
<span class='va'>simple.function2</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='kw'>function</span> <span class='op'>(</span><span class='va'>value</span><span class='op'>)</span> <span class='va'>value</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>memo</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># the first time we call the memo the function will execute</span>
<span class='fu'>simple.function</span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "Executing!"</div><div class='output co'>#&gt; [1] 10</div><div class='input'>
<span class='co'># if we call the memo again with the same parameter values then</span>
<span class='co'># the cached value will be returned</span>
<span class='fu'>simple.function</span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 10</div><div class='input'>
<span class='co'># calling the memo with a different set of parameter values will</span>
<span class='co'># cause the function to execute</span>
<span class='fu'>simple.function</span><span class='op'>(</span><span class='fl'>20</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "Executing!"</div><div class='output co'>#&gt; [1] 20</div><div class='input'>
<span class='co'># consider a slow function which is memoised, note that we have used the allow.null argument</span>
<span class='co'># so that NULL is cached when returned from a function, the default is FALSE</span>
<span class='va'>slow.function</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='kw'>function</span> <span class='op'>(</span><span class='va'>value</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/Sys.sleep.html'>Sys.sleep</a></span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>memo</span><span class='op'>(</span>allow.null <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># the first time we call the slow function it takes some time</span>
<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span><span class='op'>(</span><span class='fu'>slow.function</span><span class='op'>(</span><span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;       0       0       3 </div><div class='input'>
<span class='co'># subsequent calls make use of the cache and are much faster</span>
<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span><span class='op'>(</span><span class='fu'>slow.function</span><span class='op'>(</span><span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;       0       0       0 </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Roy Wetherall.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


